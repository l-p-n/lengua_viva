<div class="banner">
  <div class="container">
    <h1 class="text-white"><strong>Level up your language</strong></h1>
    <h4 class="mt-3"><strong>Welcome to your personalised feed</strong></h4>
    <p>Browse videos, songs, podcasts and articles, selected just for you.</p>

    <div class="search-field w-50">
      <%= form_tag resources_search_results_path, class: "resource-search d-flex", method: :get do %>
      <div class= "search-bar">
        <%= text_field_tag :query,
          params[:query],
          class: "form-control text-input round-corners",
          placeholder: "Search"
        %>
      </div>
      <div class="filters">
        <% @tags.each do |tag|%>
        <%= check_box_tag 'tag[]', tag.name, false, class: "filter-tags", id: tag.name %>
        <label for="<%= tag.name%>"><%= tag %></label>
        <% end %>
        <%= button_tag :submit, id: "home-search", class: "btn search-button" do %>
          <i class="fa-solid fa-magnifying-glass"></i>
        <% end %>
      </div>
      <% end %>
    </div>

  </div>
</div>

<div class="container-transp">

  <%= render "spotlight" %>


  <h2 class="index-h2">Top rated</h2>

    <div class="card-container">
        <%= render @top_resources %>
    </div>
    <div class="arrow w-100 d-flex justify-content-end"><i class="fa-solid fa-angles-right"></i></div>


  <h2 class="index-h2">Just for you</h2>
  <div class="card-container">
    <%= render @resources_for_you %>
  </div>
  <div class="arrow w-100 d-flex justify-content-end"><i class="fa-solid fa-angles-right"></i></div>

  <h2 class="index-h2">Discover something new</h2>
   <div class="card-container">
    <%= render @random_resources %>
  </div>
  <div class="arrow w-100 d-flex justify-content-end"><i class="fa-solid fa-angles-right"></i></div>

  <% @user.preference_list.each do |preference| %>
  <h2 class="index-h2"><%= preference %></h2>
  <div class="card-container">
    <%= render @resources.tagged_with(preference) %>
  </div>
  <div class="arrow w-100 d-flex justify-content-end"><i class="fa-solid fa-angles-right"></i></div>
  <% end %>
</div>
